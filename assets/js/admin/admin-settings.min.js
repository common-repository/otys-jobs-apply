"use strict";document.querySelectorAll(".otys-sortables").forEach((e=>{new Sortable(e,{animation:150})}));document.querySelectorAll("[data-otys-media]").forEach((e=>{const t=e.getAttribute("data-otys-media"),l=document.querySelectorAll('[name="'+t+'"]'),a=document.querySelectorAll('[data-otys-media-preview-image="'+t+'"]'),i=document.querySelectorAll('[data-otys-media-preview="'+t+'"]'),o=document.querySelectorAll('[data-otys-media-reset="'+t+'"]');l.length&&l[0].value?(i.length&&(i[0].style.display="block"),o.length&&(o[0].style.display="block")):e.style.display="block",o.length&&o[0].addEventListener("click",(t=>{t.preventDefault(),i.length&&(i[0].style.display="none"),a.length&&a[0].setAttribute("src",""),o[0].style.display="none",e.style.display="block",l.length&&(l[0].value="")})),e.addEventListener("click",(t=>{let r;if(t.preventDefault(),r)return void r.open();let s=e.getAttribute("data-otys-media-title"),n=e.getAttribute("data-otys-media-button-text");r=new wp.media.view.MediaFrame.Select({title:s,multiple:!0,library:{order:"ASC",orderby:"title",type:"image"},button:{text:n}}),r.open(),r.on("select",(()=>{let t=r.state().get("selection").first().toJSON();e.style.display="none",o.length&&(o[0].style.display="block"),i.length&&(i[0].style.display="block"),a.length&&(a[0].setAttribute("src",t.url),a[0].setAttribute("width","auto"),a[0].setAttribute("height","auto")),l.length&&(l[0].value=t.id)}))}))}));